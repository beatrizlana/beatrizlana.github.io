<!DOCTYPE html>

<html>

<head>
	<title>Order</title>
	
	<link rel="stylesheet" type="text/css" href="styles.css">
	
	<script>
		basket = [];
		
		function getBasket()
		{
			var strbasket = (localStorage.basket).split("},");
			var temp;
			for(var i=0; i<strbasket.length; i++)
			{
				if(i == strbasket.length - 1)
				{
					temp = strbasket[i];
				}
				else
				{
					temp = strbasket[i]+"}";
				}
				console.log("temp: "+temp);
				basket.push(JSON.parse(temp));
				console.log("bskt: "+basket);
			}
		}
		
		function showBasket()
		{
			var list;
			var item = document.createElement('ol');
			for(var i=0; i<basket.length; i++)
			{
				if(i == 0)  //If it's the first iteration
				{
					console.log("first: "+basket[i].id);
					list = "<ol><li><option value=\""+basket[i].id+"\">"+basket[i].id+"</option></li>";
				}
				else if(i == basket.length - 1)  //If it's the last iteration
				{
					console.log("last: "+basket[i].id);
					list+= "<li><option value=\""+basket[i].id+"\">"+basket[i].id+"</option></li></ol>";
				}
				else  //Any other iteration
				{
					console.log(basket[i].id);
					list+= "<li><option value=\""+basket[i].id+"\">"+basket[i].id+"</option></li>";
				}
				//item.appendChild(list);
			}
			document.getElementById("basketlist").innerHTML = list;
		}
	</script>
</head>

<body onload="getBasket(); showBasket()">
	<div id="header">
		<div id="branding">
			<img src="images/logo.png" ></img>
		</div> <!-- end of branding -->

		<div id="navigation">
			<ul>
				<li><a href="home.html">Home</a></li>
				<li><a href="aboutus.html">About Us</a></li>
				<li><a href="products.html">Products</a></li>
				<li><a href="order.html">Order</a></li>
				<li><a href="contact.html">Contact Us</a></li>
			</ul>
		</div> <!-- end of navigation -->
	</div> <!-- end of header -->
	
	<div id="tagline">
			
	</div> <!-- end of tagline -->
		
	<div id="bodycontent">

		<form action="http://www.htmlcodetutorial.com/cgi-bin/mycgi.pl" method="post" class="order" id="order" onsubmit="return validate()">
			<fieldset>
				<div id="basketlist">
				</div>
				<label for="product">Product:</label>
				<br>
				<label for="name">Name:</label>
				<input type="text" name="name" id="name"><br>
				<label for="email">Email:</label>
				<input type="text" name="email" id="email"><br>
				<label for="phone">Phone Number:</label>
				<input type="text" name="phone" id="phone"><br>
				<label for="subject">Subject:</label>
				<input type="text" name="subject" id="subject"><br>
				<br> Message:<br>
				<textarea name="message" id="message" cols="40" rows="10">Enter message here...</textarea>
				<br><br><input type="submit" value="Submit">
			</fieldset>
		</form>
	</div> <!-- end of body content -->
	
</body>
</html>